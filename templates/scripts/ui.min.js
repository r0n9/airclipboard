const _0x20039a=_0x15c3;(function(_0x18913d,_0x4cb565){const _0x324cf2=_0x15c3,_0x64ec=_0x18913d();while(!![]){try{const _0x2d2fe3=-parseInt(_0x324cf2(0x130))/0x1+parseInt(_0x324cf2(0x129))/0x2+-parseInt(_0x324cf2(0x157))/0x3*(parseInt(_0x324cf2(0x11f))/0x4)+parseInt(_0x324cf2(0x16b))/0x5+parseInt(_0x324cf2(0x151))/0x6*(parseInt(_0x324cf2(0x180))/0x7)+parseInt(_0x324cf2(0x1c4))/0x8+-parseInt(_0x324cf2(0x131))/0x9;if(_0x2d2fe3===_0x4cb565)break;else _0x64ec['push'](_0x64ec['shift']());}catch(_0x33cd10){_0x64ec['push'](_0x64ec['shift']());}}}(_0x4043,0xae29f));const $=_0x2c16ba=>document[_0x20039a(0x196)](_0x2c16ba),$$=_0x46a2f9=>document[_0x20039a(0xec)]['querySelector'](_0x46a2f9),isURL=_0x31c1aa=>/^((https?:\/\/|www)[^\s]+)/g[_0x20039a(0x159)](_0x31c1aa['toLowerCase']());window[_0x20039a(0x114)]=typeof document[_0x20039a(0x116)]('a')['download']!=='undefined',window[_0x20039a(0xfa)]=!window[_0x20039a(0xf7)]['host'][_0x20039a(0xfc)](_0x20039a(0x1bb)),window[_0x20039a(0x167)]=/iPad|iPhone|iPod/[_0x20039a(0x159)](navigator[_0x20039a(0x18c)])&&!window[_0x20039a(0x182)],Events['on'](_0x20039a(0x132),_0x5937f4=>{const _0x2f695a=_0x20039a,_0x30bca4=_0x5937f4[_0x2f695a(0x15a)]['message'],_0x4d1fe6=$('displayName');_0x4d1fe6['textContent']=_0x30bca4[_0x2f695a(0x174)],_0x4d1fe6['title']=_0x30bca4[_0x2f695a(0x141)];});class PeersUI{constructor(){const _0x3abc86=_0x20039a;Events['on'](_0x3abc86(0x173),_0x559124=>this[_0x3abc86(0x1d2)](_0x559124[_0x3abc86(0x15a)])),Events['on'](_0x3abc86(0x10d),_0x55f8e5=>this[_0x3abc86(0x1b9)](_0x55f8e5[_0x3abc86(0x15a)])),Events['on'](_0x3abc86(0x181),_0x4e4398=>this['_onPeers'](_0x4e4398['detail'])),Events['on'](_0x3abc86(0x1d5),_0x3d3e50=>this['_onFileProgress'](_0x3d3e50['detail'])),Events['on']('peer-rtc-connected',_0x37eb03=>this['_onRTCConnectable'](_0x37eb03[_0x3abc86(0x15a)]));}['_onPeerJoined'](_0x2f2135){const _0x383665=_0x20039a;if($(_0x2f2135['id']))return;const _0x1f8a1b=new PeerUI(_0x2f2135);$$(_0x383665(0x19c))[_0x383665(0xf1)](_0x1f8a1b[_0x383665(0x189)]),setTimeout(_0xfcd130=>window[_0x383665(0x1bf)](![]),0x6d6);}['_onPeers'](_0x5df624){const _0x5a3e27=_0x20039a;this[_0x5a3e27(0x1cb)](),_0x5df624[_0x5a3e27(0x12d)](_0x2258d8=>this[_0x5a3e27(0x1d2)](_0x2258d8));}['_onPeerLeft'](_0x7fcaf9){const _0x49c8ae=_0x20039a,_0x1875e1=$(_0x7fcaf9);if(!_0x1875e1)return;_0x1875e1[_0x49c8ae(0x1d4)]();}['_onFileProgress'](_0x1a597e){const _0x50145d=_0x20039a,_0x18c225=_0x1a597e['sender']||_0x1a597e[_0x50145d(0x1c5)],_0x55935f=$(_0x18c225);if(!_0x55935f)return;_0x55935f['ui'][_0x50145d(0x169)](_0x1a597e[_0x50145d(0x156)]);}['_clearPeers'](){const _0x49af2f=_0x20039a,_0x371531=$$(_0x49af2f(0x19c))[_0x49af2f(0x162)]='';}[_0x20039a(0x1ce)](_0x435ec2){const _0x1304fb=_0x20039a,_0x400b1a=_0x435ec2[_0x1304fb(0x1af)][_0x1304fb(0x13d)]||_0x435ec2[_0x1304fb(0x1af)][_0x1304fb(0xf0)][_0x1304fb(0x13b)](_0x2dec9b=>_0x2dec9b[_0x1304fb(0x18b)]['indexOf']('image')>-0x1)[_0x1304fb(0x175)](_0xd9233f=>_0xd9233f[_0x1304fb(0x12a)]()),_0x26f2cf=document[_0x1304fb(0x11a)](_0x1304fb(0x11d));_0x400b1a[_0x1304fb(0xf5)]>0x0&&_0x26f2cf[_0x1304fb(0xf5)]===0x1&&Events[_0x1304fb(0xf3)](_0x1304fb(0xe7),{'files':_0x400b1a,'to':$$(_0x1304fb(0x11d))['id']});}[_0x20039a(0x14d)](_0x23b5af){const _0x4c28d8=_0x20039a,_0x21ca3f=$(_0x23b5af);if(!_0x21ca3f)return;_0x21ca3f['ui'][_0x4c28d8(0x14d)]();}}class PeerUI{['html'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22column\x20center\x22\x20title=\x22点击发送文件或右键点击发送文本\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22file\x22\x20multiple>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<x-icon\x20shadow=\x221\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20class=\x22icon\x22><use\x20xlink:href=\x22#\x22/></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</x-icon>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22circle\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22circle\x20right\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22name\x20font-subheading\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22device-name\x20font-body2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22status\x20font-body2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>';}constructor(_0x531afd){const _0x4f4a25=_0x20039a;this[_0x4f4a25(0xef)]=_0x531afd,this[_0x4f4a25(0x1b5)](),this['_bindListeners'](this[_0x4f4a25(0x189)]);}[_0x20039a(0x1b5)](){const _0x4bc1da=_0x20039a,_0x9f1676=document[_0x4bc1da(0x116)](_0x4bc1da(0x11d));_0x9f1676['id']=this[_0x4bc1da(0xef)]['id'],_0x9f1676[_0x4bc1da(0x162)]=this['html'](),_0x9f1676['ui']=this,_0x9f1676[_0x4bc1da(0x19f)][_0x4bc1da(0x14c)](_0x4bc1da(0x133)),_0x9f1676[_0x4bc1da(0x139)](_0x4bc1da(0x12e))[_0x4bc1da(0x171)]('xlink:href',this[_0x4bc1da(0xe6)]()),_0x9f1676['querySelector'](_0x4bc1da(0x1d1))[_0x4bc1da(0x137)]=this[_0x4bc1da(0x1c8)](),_0x9f1676[_0x4bc1da(0x139)]('.device-name')[_0x4bc1da(0x137)]=this[_0x4bc1da(0x111)](),this[_0x4bc1da(0x189)]=_0x9f1676,this[_0x4bc1da(0x1c7)]=_0x9f1676[_0x4bc1da(0x139)](_0x4bc1da(0x1c0)),this[_0x4bc1da(0x1b6)]=_0x9f1676['querySelector'](_0x4bc1da(0x163));}[_0x20039a(0x161)](_0xbf8aee){const _0x2a35b8=_0x20039a;_0xbf8aee[_0x2a35b8(0x139)](_0x2a35b8(0x1d7))['addEventListener'](_0x2a35b8(0xf8),_0x1c5645=>this[_0x2a35b8(0x142)](_0x1c5645)),_0xbf8aee[_0x2a35b8(0xe9)](_0x2a35b8(0x160),_0x4873b7=>this[_0x2a35b8(0x100)](_0x4873b7)),_0xbf8aee[_0x2a35b8(0xe9)](_0x2a35b8(0xf6),_0x1e43d6=>this[_0x2a35b8(0x17b)](_0x1e43d6)),_0xbf8aee['addEventListener'](_0x2a35b8(0x126),_0x2906b0=>this[_0x2a35b8(0x17b)](_0x2906b0)),_0xbf8aee['addEventListener'](_0x2a35b8(0x14f),_0x2f3c40=>this[_0x2a35b8(0x170)](_0x2f3c40)),_0xbf8aee[_0x2a35b8(0xe9)](_0x2a35b8(0x172),_0x4feff0=>this[_0x2a35b8(0x108)](_0x4feff0)),_0xbf8aee[_0x2a35b8(0xe9)](_0x2a35b8(0x105),_0x2c60f2=>this[_0x2a35b8(0x17c)](_0x2c60f2)),_0xbf8aee[_0x2a35b8(0xe9)](_0x2a35b8(0x128),_0x117203=>this['_onTouchEnd'](_0x117203)),Events['on'](_0x2a35b8(0x14f),_0x25060f=>_0x25060f[_0x2a35b8(0x15f)]()),Events['on'](_0x2a35b8(0x160),_0x57fdeb=>_0x57fdeb[_0x2a35b8(0x15f)]());}[_0x20039a(0x1c8)](){const _0x4ad695=_0x20039a;return this[_0x4ad695(0xef)][_0x4ad695(0x1a5)]['displayName'];}['_deviceName'](){const _0x136c20=_0x20039a;return this['_peer'][_0x136c20(0x1a5)][_0x136c20(0x141)];}[_0x20039a(0xe6)](){const _0x5ed070=_0x20039a,_0x26c258=this[_0x5ed070(0xef)][_0x5ed070(0x1a5)][_0x5ed070(0x119)]||this[_0x5ed070(0xef)]['name'];if(_0x26c258['type']===_0x5ed070(0x1be))return _0x5ed070(0x110);if(_0x26c258[_0x5ed070(0x18b)]==='tablet')return _0x5ed070(0x158);return'#desktop-mac';}[_0x20039a(0x142)](_0x34cf54){const _0x2349a5=_0x20039a,_0x1b1867=_0x34cf54[_0x2349a5(0x1a8)],_0x50c7f7=_0x1b1867['files'];Events[_0x2349a5(0xf3)](_0x2349a5(0xe7),{'files':_0x50c7f7,'to':this[_0x2349a5(0xef)]['id']}),_0x1b1867[_0x2349a5(0x168)]=null;}[_0x20039a(0x169)](_0x39bddf){const _0x48b10d=_0x20039a;_0x39bddf>0x0&&this[_0x48b10d(0x189)][_0x48b10d(0x171)](_0x48b10d(0x107),'1');_0x39bddf>0.5?this[_0x48b10d(0x1c7)][_0x48b10d(0x19f)][_0x48b10d(0x14c)](_0x48b10d(0x199)):this[_0x48b10d(0x1c7)]['classList'][_0x48b10d(0x1d4)](_0x48b10d(0x199));const _0x340d3c=_0x48b10d(0x1b4)+0x168*_0x39bddf+_0x48b10d(0xfe);this[_0x48b10d(0x1c7)][_0x48b10d(0x12c)][_0x48b10d(0x1a4)]('--progress',_0x340d3c),_0x39bddf>=0x1&&(this[_0x48b10d(0x169)](0x0),this[_0x48b10d(0x189)][_0x48b10d(0xfd)](_0x48b10d(0x107)));}['_onDrop'](_0x4af2cd){const _0x4a3307=_0x20039a;_0x4af2cd[_0x4a3307(0x15f)]();const _0x39ed06=_0x4af2cd['dataTransfer']['files'];Events[_0x4a3307(0xf3)](_0x4a3307(0xe7),{'files':_0x39ed06,'to':this['_peer']['id']}),this[_0x4a3307(0x17b)]();}['_onDragOver'](){const _0x1f5037=_0x20039a;this[_0x1f5037(0x189)][_0x1f5037(0x171)](_0x1f5037(0x160),0x1);}[_0x20039a(0x17b)](){const _0x53a795=_0x20039a;this[_0x53a795(0x189)]['removeAttribute'](_0x53a795(0x160));}[_0x20039a(0x108)](_0xb0a284){const _0x5557a1=_0x20039a;_0xb0a284['preventDefault'](),Events[_0x5557a1(0xf3)]('text-recipient',this['_peer']['id']);}[_0x20039a(0x17c)](_0x183cb4){const _0x2e9be1=_0x20039a;this['_touchStart']=Date[_0x2e9be1(0x118)](),this[_0x2e9be1(0x143)]=setTimeout(_0x2d1475=>this[_0x2e9be1(0x10a)](),0x262);}[_0x20039a(0x10a)](_0x138377){const _0x194468=_0x20039a;if(Date[_0x194468(0x118)]()-this[_0x194468(0x154)]<0x1f4)clearTimeout(this[_0x194468(0x143)]);else{if(_0x138377)_0x138377['preventDefault']();Events[_0x194468(0xf3)](_0x194468(0xf9),this[_0x194468(0xef)]['id']);}}[_0x20039a(0x14d)](){const _0x30cd21=_0x20039a;this['$icon'][_0x30cd21(0x12c)]['background']='var(--primary-color)',this[_0x30cd21(0x189)][_0x30cd21(0x19f)]['remove']('disabled');}}class Dialog{constructor(_0x38b727){const _0xf50796=_0x20039a;this[_0xf50796(0x189)]=$(_0x38b727),this[_0xf50796(0x189)]['querySelectorAll']('[close]')[_0xf50796(0x12d)](_0x5b7812=>_0x5b7812[_0xf50796(0xe9)](_0xf50796(0x138),_0x2a23c4=>this[_0xf50796(0x15b)]())),this[_0xf50796(0x152)]=this['$el'][_0xf50796(0x139)](_0xf50796(0x11e));}[_0x20039a(0x113)](){const _0x174775=_0x20039a;this[_0x174775(0x189)]['setAttribute'](_0x174775(0x113),0x1);if(this[_0x174775(0x152)])this[_0x174775(0x152)][_0x174775(0x12f)]();}[_0x20039a(0x15b)](){const _0x31d67a=_0x20039a;this['$el'][_0x31d67a(0xfd)]('show'),document[_0x31d67a(0x109)][_0x31d67a(0x176)](),window[_0x31d67a(0x176)]();}}class ReceiveDialog extends Dialog{constructor(){const _0x5a1665=_0x20039a;super(_0x5a1665(0x164)),Events['on'](_0x5a1665(0x1b0),_0x1905a3=>{const _0x4571a7=_0x5a1665;this[_0x4571a7(0x1b2)](_0x1905a3[_0x4571a7(0x15a)]),window[_0x4571a7(0x1ac)][_0x4571a7(0xee)]();}),this[_0x5a1665(0x121)]=[];}[_0x20039a(0x1b2)](_0x479c57){const _0x248e4e=_0x20039a;if(_0x479c57)this['_filesQueue'][_0x248e4e(0x1c9)](_0x479c57);if(this['_busy'])return;this['_busy']=!![];const _0x5268bd=this[_0x248e4e(0x121)][_0x248e4e(0x112)]();this[_0x248e4e(0x1a7)](_0x5268bd);}[_0x20039a(0x10e)](){const _0x4d2950=_0x20039a;if(!this[_0x4d2950(0x121)][_0x4d2950(0xf5)]){this['_busy']=![];return;}setTimeout(_0x4f93df=>{const _0x2c2a23=_0x4d2950;this['_busy']=![],this[_0x2c2a23(0x1b2)]();},0x12c);}[_0x20039a(0x1a7)](_0x393968){const _0x3ba493=_0x20039a,_0x150c1b=this[_0x3ba493(0x189)][_0x3ba493(0x139)](_0x3ba493(0x193)),_0x4665d4=URL[_0x3ba493(0x16f)](_0x393968[_0x3ba493(0x16c)]);_0x150c1b[_0x3ba493(0x18a)]=_0x4665d4,_0x150c1b['download']=_0x393968['name'];if(this[_0x3ba493(0x18d)]()){_0x150c1b[_0x3ba493(0x138)]();return;}_0x393968[_0x3ba493(0x1ad)][_0x3ba493(0x17e)]('/')[0x0]===_0x3ba493(0x18f)&&(console[_0x3ba493(0x16d)](_0x3ba493(0x197)),this[_0x3ba493(0x189)][_0x3ba493(0x139)](_0x3ba493(0x165))[_0x3ba493(0x12c)][_0x3ba493(0x14e)]=_0x3ba493(0x13e),this[_0x3ba493(0x189)]['querySelector'](_0x3ba493(0x153))[_0x3ba493(0x155)]=_0x4665d4);this[_0x3ba493(0x189)]['querySelector'](_0x3ba493(0x186))[_0x3ba493(0x137)]=_0x393968[_0x3ba493(0x1a5)],this[_0x3ba493(0x189)][_0x3ba493(0x139)](_0x3ba493(0x10f))['textContent']=this['_formatFileSize'](_0x393968[_0x3ba493(0xf4)]),this[_0x3ba493(0x113)]();if(window[_0x3ba493(0x114)])return;_0x150c1b[_0x3ba493(0x1a8)]=_0x3ba493(0x19e);const _0x2f1901=new FileReader();_0x2f1901[_0x3ba493(0x16e)]=_0x26f042=>_0x150c1b['href']=_0x2f1901['result'],_0x2f1901[_0x3ba493(0x19b)](_0x393968[_0x3ba493(0x16c)]);}['_formatFileSize'](_0xc328dd){const _0x4c57d7=_0x20039a;if(_0xc328dd>=0x3b9aca00)return Math[_0x4c57d7(0x11b)](_0xc328dd/0x5f5e100)/0xa+_0x4c57d7(0x102);else{if(_0xc328dd>=0xf4240)return Math[_0x4c57d7(0x11b)](_0xc328dd/0x186a0)/0xa+_0x4c57d7(0x192);else return _0xc328dd>0x3e8?Math[_0x4c57d7(0x11b)](_0xc328dd/0x3e8)+_0x4c57d7(0x178):_0xc328dd+_0x4c57d7(0x18e);}}['hide'](){const _0x2d929a=_0x20039a;this[_0x2d929a(0x189)]['querySelector'](_0x2d929a(0x165))[_0x2d929a(0x12c)][_0x2d929a(0x14e)]=_0x2d929a(0x1cf),this['$el']['querySelector']('#img-preview')[_0x2d929a(0x155)]='',super['hide'](),this[_0x2d929a(0x10e)]();}[_0x20039a(0x18d)](){const _0x8a8b2c=_0x20039a;return!this[_0x8a8b2c(0x189)][_0x8a8b2c(0x139)](_0x8a8b2c(0x1ae))['checked'];}}class SendTextDialog extends Dialog{constructor(){const _0x24f98f=_0x20039a;super(_0x24f98f(0x187)),Events['on'](_0x24f98f(0xf9),_0x133144=>this[_0x24f98f(0x147)](_0x133144[_0x24f98f(0x15a)])),this['$text']=this['$el'][_0x24f98f(0x139)]('#textInput');const _0x344636=this['$el']['querySelector'](_0x24f98f(0x1ca));_0x344636['addEventListener'](_0x24f98f(0x16a),_0x547ca4=>this[_0x24f98f(0x144)](_0x547ca4));}[_0x20039a(0x147)](_0x241553){const _0xd26a23=_0x20039a;this[_0xd26a23(0x13a)]=_0x241553,this['_handleShareTargetText'](),this[_0xd26a23(0x113)]();const _0x1a49d1=document[_0xd26a23(0x136)](),_0x3ae996=window[_0xd26a23(0x1aa)]();_0x1a49d1['selectNodeContents'](this[_0xd26a23(0x1ba)]),_0x3ae996[_0xd26a23(0xe8)](),_0x3ae996[_0xd26a23(0x195)](_0x1a49d1);}['_handleShareTargetText'](){const _0x3fae62=_0x20039a;if(!window[_0x3fae62(0x14a)])return;this[_0x3fae62(0x1ba)]['textContent']=window[_0x3fae62(0x14a)],window[_0x3fae62(0x14a)]='';}[_0x20039a(0x144)](_0x48c087){const _0x59dac8=_0x20039a;_0x48c087[_0x59dac8(0x15f)](),Events['fire']('send-text',{'to':this[_0x59dac8(0x13a)],'text':this[_0x59dac8(0x1ba)][_0x59dac8(0x1c3)]});}}class ReceiveTextDialog extends Dialog{constructor(){const _0x48b331=_0x20039a;super('receiveTextDialog'),Events['on'](_0x48b331(0xe3),_0x9d3880=>this['_onText'](_0x9d3880[_0x48b331(0x15a)])),this[_0x48b331(0x1ba)]=this[_0x48b331(0x189)][_0x48b331(0x139)]('#text');const _0x4775c2=this[_0x48b331(0x189)][_0x48b331(0x139)](_0x48b331(0x122));copy[_0x48b331(0xe9)](_0x48b331(0x138),_0x581fac=>this[_0x48b331(0x166)]());}[_0x20039a(0x1d3)](_0x38115a){const _0x14186a=_0x20039a;this['$text'][_0x14186a(0x162)]='';const _0x323be6=_0x38115a['text'];if(isURL(_0x323be6)){const _0x6f7602=document['createElement']('a');_0x6f7602[_0x14186a(0x18a)]=_0x323be6,_0x6f7602[_0x14186a(0x1a8)]=_0x14186a(0x19e),_0x6f7602[_0x14186a(0x137)]=_0x323be6,this[_0x14186a(0x1ba)][_0x14186a(0xf1)](_0x6f7602);}else this['$text'][_0x14186a(0x137)]=_0x323be6;this[_0x14186a(0x113)](),window[_0x14186a(0x1ac)][_0x14186a(0xee)]();}async[_0x20039a(0x166)](){const _0x411f53=_0x20039a;await navigator['clipboard'][_0x411f53(0x1c1)](this[_0x411f53(0x1ba)][_0x411f53(0x137)]),Events['fire'](_0x411f53(0x125),'已复制到剪贴板');}}class Toast extends Dialog{constructor(){const _0x571193=_0x20039a;super(_0x571193(0x1b3)),Events['on'](_0x571193(0x125),_0x3c1919=>this[_0x571193(0xed)](_0x3c1919[_0x571193(0x15a)]));}[_0x20039a(0xed)](_0x2a7980){const _0x31d3e6=_0x20039a;this['$el'][_0x31d3e6(0x137)]=_0x2a7980,this[_0x31d3e6(0x113)](),setTimeout(_0x5322bf=>this[_0x31d3e6(0x15b)](),0xbb8);}}class Notifications{constructor(){const _0x497547=_0x20039a;if(!('Notification'in window))return;Notification[_0x497547(0x104)]!==_0x497547(0x19d)&&(this[_0x497547(0x1cc)]=$(_0x497547(0x190)),this[_0x497547(0x1cc)][_0x497547(0xfd)](_0x497547(0x1cf)),this[_0x497547(0x1cc)][_0x497547(0xe9)](_0x497547(0x138),_0xc4d8c1=>this['_requestPermission']())),Events['on'](_0x497547(0xe3),_0x486afb=>this[_0x497547(0x1a2)](_0x486afb['detail'][_0x497547(0x191)])),Events['on'](_0x497547(0x1b0),_0xd16a49=>this['_downloadNotification'](_0xd16a49[_0x497547(0x15a)][_0x497547(0x1a5)]));}[_0x20039a(0x198)](){const _0x15e5b2=_0x20039a;Notification[_0x15e5b2(0x183)](_0x4f23a6=>{const _0x1a561b=_0x15e5b2;if(_0x4f23a6!==_0x1a561b(0x19d)){language==='zh'?Events[_0x1a561b(0xf3)](_0x1a561b(0x125),Notifications[_0x1a561b(0x15d)]||'Error'):Events[_0x1a561b(0xf3)](_0x1a561b(0x125),Notifications[_0x1a561b(0xfb)]||_0x1a561b(0x194));return;}this[_0x1a561b(0xe4)]('Even\x20more\x20snappy\x20sharing!'),this['$button']['setAttribute'](_0x1a561b(0x1cf),0x1);});}[_0x20039a(0xe4)](_0xc8c88f,_0x1621fb){const _0x255739=_0x20039a,_0x22618f={'body':_0x1621fb,'icon':_0x255739(0x148)};let _0x413b26;try{_0x413b26=new Notification(_0xc8c88f,_0x22618f);}catch(_0x57f74e){if(!serviceWorker||!serviceWorker[_0x255739(0x1d9)])return;_0x413b26=serviceWorker[_0x255739(0x1d9)](_0xc8c88f,_0x22618f);}const _0x2af0c5=()=>{const _0x580457=_0x255739;document['visibilityState']===_0x580457(0x1a3)&&(_0x413b26[_0x580457(0x19a)](),Events[_0x580457(0x1a6)](_0x580457(0xeb),_0x2af0c5));};return Events['on'](_0x255739(0xeb),_0x2af0c5),_0x413b26;}['_messageNotification'](_0x5840af){const _0x3ad790=_0x20039a;if(document[_0x3ad790(0x11c)]!==_0x3ad790(0x1a3)){if(isURL(_0x5840af)){const _0x5f23a6=this[_0x3ad790(0xe4)](_0x5840af,_0x3ad790(0x1a9));this[_0x3ad790(0x1cd)](_0x5f23a6,_0xf436a5=>window[_0x3ad790(0x15c)](_0x5840af,_0x3ad790(0x19e),null,!![]));}else{const _0x40ced1=this[_0x3ad790(0xe4)](_0x5840af,_0x3ad790(0x1b1));this[_0x3ad790(0x1cd)](_0x40ced1,_0x16f7a8=>this['_copyText'](_0x5840af,_0x40ced1));}}}[_0x20039a(0x1b7)](_0x5e8e6d){const _0x1f6af0=_0x20039a;if(document['visibilityState']!==_0x1f6af0(0x1a3)){const _0x5a499e=this['_notify'](_0x5e8e6d,_0x1f6af0(0x117));if(!window[_0x1f6af0(0x114)])return;this[_0x1f6af0(0x1cd)](_0x5a499e,_0x2727aa=>this['_download'](_0x5a499e));}}[_0x20039a(0x101)](_0x30f476){const _0x56d1c2=_0x20039a;document[_0x56d1c2(0x139)](_0x56d1c2(0x140))[_0x56d1c2(0x138)](),_0x30f476[_0x56d1c2(0x19a)]();}['_copyText'](_0x2bb82c,_0x4bb85a){const _0x3d2b7b=_0x20039a;_0x4bb85a[_0x3d2b7b(0x19a)]();if(!navigator[_0x3d2b7b(0x146)]['writeText'](_0x2bb82c))return;this[_0x3d2b7b(0xe4)](_0x3d2b7b(0x177));}[_0x20039a(0x1cd)](_0x5bed20,_0x39320f){const _0x75ce93=_0x20039a;_0x5bed20['then']?_0x5bed20[_0x75ce93(0x1a1)](_0x472fdb=>serviceWorker['getNotifications']()['then'](_0x44f3e5=>{const _0x1180c1=_0x75ce93;serviceWorker[_0x1180c1(0xe9)]('notificationclick',_0x39320f);})):_0x5bed20[_0x75ce93(0xe5)]=_0x39320f;}}class NetworkStatusUI{constructor(){const _0x2c7692=_0x20039a;window[_0x2c7692(0xe9)](_0x2c7692(0x10c),_0x1cc9a=>this[_0x2c7692(0x1b8)](),![]),window[_0x2c7692(0xe9)](_0x2c7692(0x185),_0x4d6cc4=>this[_0x2c7692(0x13f)](),![]);if(!navigator[_0x2c7692(0x1d0)])this['_showOfflineMessage']();}[_0x20039a(0x1b8)](){const _0x1b7711=_0x20039a;Events[_0x1b7711(0xf3)](_0x1b7711(0x125),'You\x20are\x20offline');}[_0x20039a(0x13f)](){const _0x3ee82f=_0x20039a;Events[_0x3ee82f(0xf3)](_0x3ee82f(0x125),_0x3ee82f(0xea));}}class WebShareTargetUI{constructor(){const _0x527c2d=_0x20039a,_0x5d6d13=new URL(window[_0x527c2d(0xf7)]),_0x5971fb=_0x5d6d13[_0x527c2d(0x103)][_0x527c2d(0x1d8)](_0x527c2d(0x17f)),_0xf3c596=_0x5d6d13[_0x527c2d(0x103)][_0x527c2d(0x1d8)]('text'),_0x87c678=_0x5d6d13[_0x527c2d(0x103)][_0x527c2d(0x1d8)](_0x527c2d(0x179));let _0x544a52=_0x5971fb?_0x5971fb:'';_0x544a52+=_0xf3c596?_0x544a52?'\x20'+_0xf3c596:_0xf3c596:'';if(_0x87c678)_0x544a52=_0x87c678;if(!_0x544a52)return;window['shareTargetText']=_0x544a52,history[_0x527c2d(0xff)]({},_0x527c2d(0x17d),'/'),console[_0x527c2d(0x16d)]('Shared\x20Target\x20Text:','\x22'+_0x544a52+'\x22');}}class Snapdrop{constructor(){const _0x2ee4bb=_0x20039a,_0x3b8475=new ServerConnection();this[_0x2ee4bb(0x184)]=_0x3b8475;const _0x426bc4=new PeersManager(_0x3b8475),_0x5a28cc=new PeersUI();Events['on'](_0x2ee4bb(0x127),_0x1d1ad3=>{const _0x586d10=new ReceiveDialog(),_0x4b3437=new SendTextDialog(),_0x22259c=new ReceiveTextDialog(),_0x51dc00=new Toast(),_0x254add=new Notifications(),_0x1aa708=new NetworkStatusUI(),_0x1175a5=new WebShareTargetUI();});}[_0x20039a(0x1d6)](_0x5a9749){const _0x12d35e=_0x20039a;this['server'][_0x12d35e(0x1d6)](_0x5a9749);}}const snapdrop=new Snapdrop();function _0x4043(){const _0x3d55d3=['notify-user','dragleave','load','touchend','405964ogGirJ','getAsFile','lineWidth','style','forEach','svg\x20use','focus','93671xxTuSZ','6043887QEHObu','display-name','disabled','(display-mode:\x20standalone)','left','createRange','textContent','click','querySelector','_recipient','filter','max','files','inherit','_showOnlineMessage','x-dialog\x20[download]','deviceName','_onFilesSelected','_touchTimer','_send','100%','clipboard','_onRecipient','/images/logo_transparent_128x128.png','#install','shareTargetText','zIndex','add','_onRTCConnectable','visibility','dragover','prompt','18iNeiXL','$autoFocus','#img-preview','_touchStart','src','progress','3841791zWVpyO','#tablet-mac','test','detail','hide','open','PERMISSION_ERROR_ZH','arc','preventDefault','drop','_bindListeners','innerHTML','x-icon','receiveDialog','.preview','_onCopy','iOS','value','setProgress','submit','3065325sAqriH','blob','log','onload','createObjectURL','_onDragOver','setAttribute','contextmenu','peer-joined','displayName','map','blur','Copied\x20text\x20to\x20clipboard','\x20KB','url','matches','_onDragEnd','_onTouchStart','URL\x20Rewrite','split','title','2807434ZChiSN','peers','MSStream','requestPermission','server','online','#fileName','sendTextDialog','通知权限已被阻止，因为用户多次关闭了权限提示。可以在“页面信息”中重置权限，点击URL旁边的锁形图标访问。','$el','href','type','userAgent','_autoDownload','\x20Bytes','image','notification','text','\x20MB','#download','Error','addRange','getElementById','the\x20file\x20is\x20image','_requestPermission','over50','close','readAsDataURL','x-peers','granted','_blank','classList','clearRect','then','_messageNotification','visible','setProperty','name','off','_displayFile','target','点击以打开链接','getSelection','Notifications\x20permission\x20has\x20been\x20blocked\x20as\x20the\x20user\x20has\x20dismissed\x20the\x20permission\x20prompt\x20several\x20times.\x20This\x20can\x20be\x20reset\x20in\x20Page\x20Info\x20which\x20can\x20be\x20accessed\x20by\x20clicking\x20the\x20lock\x20icon\x20next\x20to\x20the\x20URL.','blop','mime','#autoDownload','clipboardData','file-received','点击复制文本','_nextFile','toast','rotate(','_initDom','$icon','_downloadNotification','_showOfflineMessage','_onPeerLeft','$text','localhost','top','rgba(','mobile','animateBackground','.progress','writeText','innerHeight','innerText','5919624MHPtqL','recipient','absolute','$progress','_displayName','push','form','_clearPeers','$button','_bind','_onPaste','hidden','onLine','.name','_onPeerJoined','_onText','remove','file-progress','send','input','get','showNotification','text-received','_notify','onclick','_icon','files-selected','removeAllRanges','addEventListener','You\x20are\x20back\x20online','visibilitychange','body','_onNotfiy','play','_peer','items','appendChild','register','fire','size','length','dragend','location','change','text-recipient','isProductionEnvironment','PERMISSION_ERROR_EN','startsWith','removeAttribute','deg)','pushState','_onDrop','_download','\x20GB','searchParams','permission','touchstart','matchMedia','transfer','_onRightClick','activeElement','_onTouchEnd','serviceWorker','offline','peer-left','_dequeueFile','#fileSize','#phone-iphone','_deviceName','shift','show','isDownloadSupported',',0.1)','createElement','点击下载','now','device','querySelectorAll','round','visibilityState','x-peer','[autofocus]','4hXUkFs','/service-worker.js','_filesQueue','#copy','innerWidth','width'];_0x4043=function(){return _0x3d55d3;};return _0x4043();}_0x20039a(0x10b)in navigator&&navigator[_0x20039a(0x10b)][_0x20039a(0xf2)](_0x20039a(0x120))[_0x20039a(0x1a1)](_0x5eae39=>{const _0x275708=_0x20039a;console['log']('Service\x20Worker\x20registered'),window[_0x275708(0x10b)]=_0x5eae39;});function _0x15c3(_0x4c06af,_0x30ff78){const _0x40433c=_0x4043();return _0x15c3=function(_0x15c391,_0x2aeb81){_0x15c391=_0x15c391-0xe3;let _0x45298a=_0x40433c[_0x15c391];return _0x45298a;},_0x15c3(_0x4c06af,_0x30ff78);}window['addEventListener']('beforeinstallprompt',_0x12cf32=>{const _0x443d04=_0x20039a;if(window[_0x443d04(0x106)](_0x443d04(0x134))[_0x443d04(0x17a)])return _0x12cf32['preventDefault']();else{const _0x49e973=document[_0x443d04(0x139)](_0x443d04(0x149));return _0x49e973[_0x443d04(0x1cf)]=![],_0x49e973[_0x443d04(0xe5)]=_0x16585c=>_0x12cf32[_0x443d04(0x150)](),_0x12cf32[_0x443d04(0x15f)]();}}),Events['on'](_0x20039a(0x127),()=>{const _0x17b6a3=_0x20039a;let _0x6eeb70=document[_0x17b6a3(0x116)]('canvas');document[_0x17b6a3(0xec)][_0x17b6a3(0xf1)](_0x6eeb70);let _0x2aca0f=_0x6eeb70[_0x17b6a3(0x12c)];_0x2aca0f['width']=_0x17b6a3(0x145),_0x2aca0f['position']=_0x17b6a3(0x1c6),_0x2aca0f[_0x17b6a3(0x14b)]=-0x1,_0x2aca0f[_0x17b6a3(0x1bc)]=0x0,_0x2aca0f[_0x17b6a3(0x135)]=0x0;let _0x2fec69=_0x6eeb70['getContext']('2d'),_0x4cb062,_0x1191af,_0x5f0629,_0x3548fe,_0x3d4e8d;function _0x13e445(){const _0x3adc42=_0x17b6a3;_0x5f0629=window[_0x3adc42(0x123)],_0x3548fe=window[_0x3adc42(0x1c2)],_0x6eeb70[_0x3adc42(0x124)]=_0x5f0629,_0x6eeb70['height']=_0x3548fe,_0x4cb062=0x63,_0x1191af=0x70,_0x3d4e8d=Math[_0x3adc42(0x13c)](_0x5f0629,_0x3548fe,0x3e8)/0xd,_0x70a16c();}window['onresize']=_0x13e445;function _0x72bf3f(_0xaf8318){const _0x50e2a7=_0x17b6a3;_0x2fec69['beginPath']();let _0xdd6662=Math['round'](0xff*(0x1-_0xaf8318/Math[_0x50e2a7(0x13c)](_0x5f0629,_0x3548fe)));_0x2fec69['strokeStyle']=_0x50e2a7(0x1bd)+_0xdd6662+','+_0xdd6662+','+_0xdd6662+_0x50e2a7(0x115),_0x2fec69[_0x50e2a7(0x15e)](_0x4cb062,_0x1191af,_0xaf8318,0x0,0x2*Math['PI']),_0x2fec69['stroke'](),_0x2fec69[_0x50e2a7(0x12b)]=0x2;}let _0x4a1600=0x0;function _0x70a16c(){const _0x3a2eda=_0x17b6a3;_0x2fec69[_0x3a2eda(0x1a0)](0x0,0x0,_0x5f0629,_0x3548fe);for(let _0x5e0d39=0x0;_0x5e0d39<0x8;_0x5e0d39++){_0x72bf3f(_0x3d4e8d*_0x5e0d39+_0x4a1600%_0x3d4e8d);}_0x4a1600+=0x1;}let _0x3ae549=!![];function _0x30cb06(){(_0x3ae549||_0x4a1600%_0x3d4e8d<_0x3d4e8d-0x5)&&requestAnimationFrame(function(){_0x70a16c(),_0x30cb06();});}window[_0x17b6a3(0x1bf)]=function(_0x2ce238){_0x3ae549=_0x2ce238,_0x30cb06();},_0x13e445(),_0x30cb06();}),Notifications[_0x20039a(0x15d)]=_0x20039a(0x188),Notifications[_0x20039a(0xfb)]=_0x20039a(0x1ab),document[_0x20039a(0xec)]['onclick']=_0x15e830=>{const _0x119c7f=_0x20039a;document[_0x119c7f(0xec)]['onclick']=null;if(!/.*Version.*Safari.*/[_0x119c7f(0x159)](navigator['userAgent']))return;blop[_0x119c7f(0xee)]();};