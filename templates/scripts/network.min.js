const _0x2617c9=_0x2869;(function(_0x10c6ea,_0x44156a){const _0x2c978f=_0x2869,_0x3373d5=_0x10c6ea();while(!![]){try{const _0x4f71c5=parseInt(_0x2c978f(0x16f))/0x1*(parseInt(_0x2c978f(0x19e))/0x2)+parseInt(_0x2c978f(0x1ee))/0x3+parseInt(_0x2c978f(0x168))/0x4*(-parseInt(_0x2c978f(0x1cb))/0x5)+-parseInt(_0x2c978f(0x15b))/0x6*(parseInt(_0x2c978f(0x194))/0x7)+parseInt(_0x2c978f(0x1b6))/0x8*(parseInt(_0x2c978f(0x174))/0x9)+-parseInt(_0x2c978f(0x1bd))/0xa*(-parseInt(_0x2c978f(0x179))/0xb)+-parseInt(_0x2c978f(0x152))/0xc;if(_0x4f71c5===_0x44156a)break;else _0x3373d5['push'](_0x3373d5['shift']());}catch(_0x2d80f5){_0x3373d5['push'](_0x3373d5['shift']());}}}(_0x1ca0,0xc8841),window[_0x2617c9(0x1de)]=window[_0x2617c9(0x1de)]||window[_0x2617c9(0x17f)],window[_0x2617c9(0x147)]=!!(window['RTCPeerConnection']||window[_0x2617c9(0x1b1)]||window[_0x2617c9(0x1e4)]));class ServerConnection{constructor(){const _0x16e33d=_0x2617c9;this['_connect'](),Events['on'](_0x16e33d(0x1f0),_0x1ea78a=>this[_0x16e33d(0x160)]()),Events['on']('pagehide',_0x5ad7ec=>this['_disconnect']()),document['addEventListener'](_0x16e33d(0x165),_0x26075b=>this[_0x16e33d(0x1a9)]());}[_0x2617c9(0x1ae)](){const _0x1eea06=_0x2617c9;clearTimeout(this[_0x1eea06(0x13f)]);if(this['_isConnected']()||this['_isConnecting']())return;const _0x4eb254=new WebSocket(this[_0x1eea06(0x1be)]());_0x4eb254[_0x1eea06(0x1e9)]='arraybuffer',_0x4eb254['onopen']=_0x224f84=>console[_0x1eea06(0x19d)](_0x1eea06(0x13c)),_0x4eb254[_0x1eea06(0x1da)]=_0xf5d64d=>this[_0x1eea06(0x1bc)](_0xf5d64d[_0x1eea06(0x1ac)]),_0x4eb254[_0x1eea06(0x1af)]=_0x2feee3=>this['_onDisconnect'](),_0x4eb254[_0x1eea06(0x1dd)]=_0x5ceb93=>console['error'](_0x5ceb93),this[_0x1eea06(0x1e6)]=_0x4eb254;}[_0x2617c9(0x1bc)](_0xc1add){const _0x10f05f=_0x2617c9;_0xc1add=JSON[_0x10f05f(0x189)](_0xc1add),console['log']('WS:',_0xc1add);switch(_0xc1add['type']){case _0x10f05f(0x1b0):Events['fire'](_0x10f05f(0x1b0),_0xc1add[_0x10f05f(0x1b0)]);break;case'peer-joined':Events[_0x10f05f(0x1a6)](_0x10f05f(0x1d1),_0xc1add['peer']);break;case'peer-left':Events[_0x10f05f(0x1a6)](_0x10f05f(0x19a),_0xc1add[_0x10f05f(0x161)]);break;case _0x10f05f(0x156):Events[_0x10f05f(0x1a6)](_0x10f05f(0x156),_0xc1add);break;case _0x10f05f(0x1db):this['send']({'type':_0x10f05f(0x1c9),'board':window[_0x10f05f(0x154)]});break;case _0x10f05f(0x1a1):Events['fire']('display-name',_0xc1add);break;case _0x10f05f(0x1ed):fetchMessages();break;default:console['error'](_0x10f05f(0x1c5),_0xc1add);}}['send'](_0x2b2f22){const _0x2ecadc=_0x2617c9;if(!this[_0x2ecadc(0x1ba)]())return;this['_socket'][_0x2ecadc(0x16a)](JSON['stringify'](_0x2b2f22));}[_0x2617c9(0x1be)](){const _0x3b9263=_0x2617c9,_0x2b4982=location[_0x3b9263(0x1cd)]['startsWith'](_0x3b9263(0x185))?_0x3b9263(0x1ca):'ws',_0x3a8845=window[_0x3b9263(0x147)]?_0x3b9263(0x1df):_0x3b9263(0x1b2),_0x300a6a=_0x2b4982+'://'+location['host']+_0x3b9263(0x1ef)+_0x3a8845;return _0x300a6a;}[_0x2617c9(0x160)](){const _0x6eba77=_0x2617c9;this[_0x6eba77(0x16a)]({'type':_0x6eba77(0x190)}),this['_socket'][_0x6eba77(0x1af)]=null,this[_0x6eba77(0x1e6)][_0x6eba77(0x177)]();}[_0x2617c9(0x155)](){const _0x590184=_0x2617c9;console[_0x590184(0x19d)](_0x590184(0x169)),language=='en'?Events[_0x590184(0x1a6)](_0x590184(0x1c0),_0x590184(0x1d6)):Events['fire'](_0x590184(0x1c0),_0x590184(0x19f)),clearTimeout(this['_reconnectTimer']),this[_0x590184(0x13f)]=setTimeout(_0x59615f=>this['_connect'](),0x1388);}[_0x2617c9(0x1a9)](){const _0x22f833=_0x2617c9;if(document[_0x22f833(0x16b)])return;this[_0x22f833(0x1ae)]();}[_0x2617c9(0x1ba)](){const _0x3b7bfa=_0x2617c9;return this[_0x3b7bfa(0x1e6)]&&this[_0x3b7bfa(0x1e6)]['readyState']===this[_0x3b7bfa(0x1e6)][_0x3b7bfa(0x1a4)];}[_0x2617c9(0x17c)](){const _0x58f52c=_0x2617c9;return this[_0x58f52c(0x1e6)]&&this['_socket'][_0x58f52c(0x151)]===this['_socket'][_0x58f52c(0x1cf)];}}function _0x1ca0(){const _0x4c1473=['ice','readyState','8896860EBMTQs','isFileEnd','board','_onDisconnect','signal','partition-received','_sendProgress','then','_digester','36AkByXS','_onChannelClosed','removeEventListener','_onDescription','catch','_disconnect','peerId','send-text','string','_onFilesSelected','visibilitychange','channel','RTC:','3938660EJYocU','WS:\x20server\x20disconnected','send','hidden','_openConnection','_mime','File\x20transfer\x20completed.','377473Xwhrfy','stun:stun.l.google.com:19302','byteLength','sendText','onServerMessage','288xroGEN','_readChunk','sender','close','_sendSignal','66stqiAG','candidate','connectionState','_isConnecting','_onFileHeader','nextPartition','webkitURL','_onSendText','_isCaller','text-received','onconnectionstatechange','size','https','_onChunkRead','refresh','_partitionSize','parse','_file','length','sendFiles','connected','dispatchEvent','result','disconnect','_isPartitionEnd','sendJSON','_onReceivedPartitionEnd','1234058IdSuAY','ICE\x20Gathering','progress','failed','sdp','slice','peer-left','disconnected','file-progress','log','2phTBJP','连接丢失，5秒后重试...','detail','display-name','_send','error','OPEN','_filesQueue','fire','_sendFile','unchunk','_onVisibilityChange','iceConnectionState','_chunker','data','config','_connect','onclose','peers','mozRTCPeerConnection','/fallback','RTC:\x20channel\x20opened\x20with','addIceCandidate','_onIceCandidate','210856yJzYDH','_nextPartition','connecting','push','_isConnected','_server','_onMessage','2459670AjZVVJ','_endpoint','_dequeueFile','notify-user','off','oniceconnectionstatechange','_chunkSize','addEventListener','WS:\x20unkown\x20message\x20type','_reader','transfer-complete','_isRTCConnectable','pong','wss','5SqGzzJ','mime','protocol','file-received','CONNECTING','_onError','peer-joined','_name','createOffer','_onDownloadProgress','_offset','Connection\x20lost.\x20Retry\x20in\x205\x20seconds\x20...','_onIceConnectionStateChange','onopen','_lastProgress','onmessage','ping','_peer','onerror','URL','/webrtc','_sendNextPartition','_conn','name','_onChunk','webkitRTCPeerConnection','_openChannel','_socket','_onFileReceived','_callback','binaryType','_onPeers','type','RTC:\x20channel\x20closed','board-update','2725344KgCTtN','/server','beforeunload','_peerId','files','_onTransferCompleted','_buffer','_onPartitionEnd','_channel','WS:\x20server\x20connected','header','_onPeerLeft','_reconnectTimer','_bytesReceived','_size','_maxPartitionSize','target','文件传输完成。','_onConnectionStateChange','forEach','isRtcSupported','partition','_onChannelOpened','text','setRemoteDescription','_busy','rtcSupported','isCaller','offer'];_0x1ca0=function(){return _0x4c1473;};return _0x1ca0();}class Peer{constructor(_0x52108b,_0x1063d9){const _0x1b6c54=_0x2617c9;this['_server']=_0x52108b,this['_peerId']=_0x1063d9,this[_0x1b6c54(0x1a5)]=[],this[_0x1b6c54(0x14c)]=![],this[_0x1b6c54(0x1c8)]=![];}[_0x2617c9(0x192)](_0x120396){const _0x142995=_0x2617c9;this[_0x142995(0x1a2)](JSON['stringify'](_0x120396));}[_0x2617c9(0x18c)](_0x5052a1){const _0x19d36b=_0x2617c9;for(let _0x530299=0x0;_0x530299<_0x5052a1[_0x19d36b(0x18b)];_0x530299++){this[_0x19d36b(0x1a5)][_0x19d36b(0x1b9)](_0x5052a1[_0x530299]);}if(this['_busy'])return;this['_dequeueFile']();}[_0x2617c9(0x1bf)](){const _0x3d7961=_0x2617c9;if(!this[_0x3d7961(0x1a5)][_0x3d7961(0x18b)])return;this[_0x3d7961(0x14c)]=!![];const _0x530b34=this[_0x3d7961(0x1a5)]['shift']();this[_0x3d7961(0x1a7)](_0x530b34);}[_0x2617c9(0x1a7)](_0x222878){const _0x46191e=_0x2617c9;this['sendJSON']({'type':_0x46191e(0x13d),'name':_0x222878[_0x46191e(0x1e2)],'mime':_0x222878['type'],'size':_0x222878['size']}),this['_chunker']=new FileChunker(_0x222878,_0x560971=>this[_0x46191e(0x1a2)](_0x560971),_0xb06abe=>this[_0x46191e(0x1f5)](_0xb06abe)),this[_0x46191e(0x1ab)][_0x46191e(0x17e)]();}[_0x2617c9(0x1f5)](_0x529f99){const _0x14811b=_0x2617c9;this[_0x14811b(0x192)]({'type':_0x14811b(0x148),'offset':_0x529f99});}[_0x2617c9(0x193)](_0x114a58){const _0x5bff4f=_0x2617c9;this[_0x5bff4f(0x192)]({'type':_0x5bff4f(0x157),'offset':_0x114a58});}[_0x2617c9(0x1e0)](){const _0x3ad14d=_0x2617c9;if(!this[_0x3ad14d(0x1ab)]||this['_chunker'][_0x3ad14d(0x153)]())return;this[_0x3ad14d(0x1ab)][_0x3ad14d(0x17e)]();}[_0x2617c9(0x158)](_0x38729e){const _0x456434=_0x2617c9;this[_0x456434(0x192)]({'type':_0x456434(0x196),'progress':_0x38729e});}['_onMessage'](_0x48ed9d){const _0x5980d1=_0x2617c9;if(typeof _0x48ed9d!==_0x5980d1(0x163)){this['_onChunkReceived'](_0x48ed9d);return;}_0x48ed9d=JSON[_0x5980d1(0x189)](_0x48ed9d),console[_0x5980d1(0x19d)](_0x5980d1(0x167),_0x48ed9d);switch(_0x48ed9d[_0x5980d1(0x1eb)]){case _0x5980d1(0x13d):this[_0x5980d1(0x17d)](_0x48ed9d);break;case'partition':this[_0x5980d1(0x193)](_0x48ed9d);break;case _0x5980d1(0x157):this[_0x5980d1(0x1e0)]();break;case _0x5980d1(0x196):this[_0x5980d1(0x1d4)](_0x48ed9d[_0x5980d1(0x196)]);break;case'transfer-complete':this['_onTransferCompleted']();break;case _0x5980d1(0x14a):this['_onTextReceived'](_0x48ed9d);break;}}['_onFileHeader'](_0x2c2895){const _0x102d32=_0x2617c9;this[_0x102d32(0x1d9)]=0x0,this[_0x102d32(0x15a)]=new FileDigester({'name':_0x2c2895[_0x102d32(0x1e2)],'mime':_0x2c2895[_0x102d32(0x1cc)],'size':_0x2c2895[_0x102d32(0x184)]},_0xfec951=>this[_0x102d32(0x1e7)](_0xfec951));}['_onChunkReceived'](_0x3bb986){const _0x482962=_0x2617c9;if(!_0x3bb986[_0x482962(0x171)])return;this[_0x482962(0x15a)]['unchunk'](_0x3bb986);const _0xb3da31=this['_digester'][_0x482962(0x196)];this['_onDownloadProgress'](_0xb3da31);if(_0xb3da31-this[_0x482962(0x1d9)]<0.01)return;this['_lastProgress']=_0xb3da31,this[_0x482962(0x158)](_0xb3da31);}[_0x2617c9(0x1d4)](_0x2945e7){const _0x4bd57b=_0x2617c9;Events[_0x4bd57b(0x1a6)](_0x4bd57b(0x19c),{'sender':this[_0x4bd57b(0x1f1)],'progress':_0x2945e7});}[_0x2617c9(0x1e7)](_0x1efc83){const _0x35925a=_0x2617c9;Events[_0x35925a(0x1a6)](_0x35925a(0x1ce),_0x1efc83),this[_0x35925a(0x192)]({'type':_0x35925a(0x1c7)});}[_0x2617c9(0x1f3)](){const _0x222c5f=_0x2617c9;this['_onDownloadProgress'](0x1),this[_0x222c5f(0x1c6)]=null,this[_0x222c5f(0x14c)]=![],this[_0x222c5f(0x1bf)](),language=='zh'?Events[_0x222c5f(0x1a6)]('notify-user',_0x222c5f(0x144)):Events[_0x222c5f(0x1a6)](_0x222c5f(0x1c0),_0x222c5f(0x16e));}[_0x2617c9(0x172)](_0x19e6c6){const _0x11b0ab=_0x2617c9,_0x23087a=btoa(unescape(encodeURIComponent(_0x19e6c6)));this['sendJSON']({'type':_0x11b0ab(0x14a),'text':_0x23087a});}['_onTextReceived'](_0x459fdc){const _0x4734b1=_0x2617c9,_0x165341=decodeURIComponent(escape(atob(_0x459fdc['text'])));Events[_0x4734b1(0x1a6)](_0x4734b1(0x182),{'text':_0x165341,'sender':this[_0x4734b1(0x1f1)]});}}class RTCPeer extends Peer{constructor(_0x2c4951,_0x1e341f){super(_0x2c4951,_0x1e341f);if(!_0x1e341f)return;this['_connect'](_0x1e341f,!![]);}[_0x2617c9(0x1ae)](_0x249741,_0x176172){const _0x4ee07a=_0x2617c9;if(!this[_0x4ee07a(0x1e1)])this[_0x4ee07a(0x16c)](_0x249741,_0x176172);_0x176172?this[_0x4ee07a(0x1e5)]():this[_0x4ee07a(0x1e1)]['ondatachannel']=_0x303a19=>this['_onChannelOpened'](_0x303a19);}['_openConnection'](_0x1724e7,_0xa5500a){const _0x46a908=_0x2617c9;this[_0x46a908(0x181)]=_0xa5500a,this['_peerId']=_0x1724e7,this[_0x46a908(0x1e1)]=new RTCPeerConnection(RTCPeer['config']),this[_0x46a908(0x1e1)]['onicecandidate']=_0x41cf37=>this[_0x46a908(0x1b5)](_0x41cf37),this[_0x46a908(0x1e1)][_0x46a908(0x183)]=_0x36ca12=>this[_0x46a908(0x145)](_0x36ca12),this[_0x46a908(0x1e1)][_0x46a908(0x1c2)]=_0x3d216b=>this[_0x46a908(0x1d7)](_0x3d216b);}[_0x2617c9(0x1e5)](){const _0x53ad38=_0x2617c9,_0x594641=this[_0x53ad38(0x1e1)]['createDataChannel']('data-channel',{'ordered':!![],'reliable':!![]});_0x594641[_0x53ad38(0x1d8)]=_0x57c9cf=>this[_0x53ad38(0x149)](_0x57c9cf),this[_0x53ad38(0x1e1)][_0x53ad38(0x1d3)]()[_0x53ad38(0x159)](_0x4db51b=>this[_0x53ad38(0x15e)](_0x4db51b))[_0x53ad38(0x15f)](_0x3343f0=>this[_0x53ad38(0x1d0)](_0x3343f0));}['_onDescription'](_0x2d096b){const _0x52c490=_0x2617c9;this[_0x52c490(0x1e1)]['setLocalDescription'](_0x2d096b)[_0x52c490(0x159)](_0x4088ab=>this['_sendSignal']({'sdp':_0x2d096b}))[_0x52c490(0x15f)](_0x2bf2e7=>this[_0x52c490(0x1d0)](_0x2bf2e7));}['_onIceCandidate'](_0x51cd85){const _0x5ec141=_0x2617c9;if(!_0x51cd85[_0x5ec141(0x17a)])return;this[_0x5ec141(0x178)]({'ice':_0x51cd85[_0x5ec141(0x17a)]});}['onServerMessage'](_0x47379b){const _0x5dd2d4=_0x2617c9;if(!this[_0x5dd2d4(0x1e1)])this[_0x5dd2d4(0x1ae)](_0x47379b['sender'],![]);if(_0x47379b['sdp'])this[_0x5dd2d4(0x1e1)][_0x5dd2d4(0x14b)](new RTCSessionDescription(_0x47379b[_0x5dd2d4(0x198)]))[_0x5dd2d4(0x159)](_0x505887=>{const _0x5e52b4=_0x5dd2d4;if(_0x47379b['sdp'][_0x5e52b4(0x1eb)]===_0x5e52b4(0x14f))return this[_0x5e52b4(0x1e1)]['createAnswer']()[_0x5e52b4(0x159)](_0x5f4d75=>this[_0x5e52b4(0x15e)](_0x5f4d75));})['catch'](_0x45377f=>this[_0x5dd2d4(0x1d0)](_0x45377f));else _0x47379b['ice']&&this[_0x5dd2d4(0x1e1)][_0x5dd2d4(0x1b4)](new RTCIceCandidate(_0x47379b[_0x5dd2d4(0x150)]));}[_0x2617c9(0x149)](_0x2cb191){const _0x5eb3c4=_0x2617c9;console[_0x5eb3c4(0x19d)](_0x5eb3c4(0x1b3),this[_0x5eb3c4(0x1f1)]);const _0x14c91c=_0x2cb191[_0x5eb3c4(0x166)]||_0x2cb191['target'];_0x14c91c[_0x5eb3c4(0x1e9)]='arraybuffer',_0x14c91c['onmessage']=_0x10c0f2=>this[_0x5eb3c4(0x1bc)](_0x10c0f2[_0x5eb3c4(0x1ac)]),_0x14c91c[_0x5eb3c4(0x1af)]=_0x512a89=>this['_onChannelClosed'](),this['_channel']=_0x14c91c;}[_0x2617c9(0x15c)](){const _0x3ff9cc=_0x2617c9;console[_0x3ff9cc(0x19d)](_0x3ff9cc(0x1ec),this['_peerId']);if(!this[_0x3ff9cc(0x14e)])return;this['_connect'](this[_0x3ff9cc(0x1f1)],!![]);}[_0x2617c9(0x145)](_0x5c05b4){const _0x3c4659=_0x2617c9;console[_0x3c4659(0x19d)]('RTC:\x20state\x20changed:',this[_0x3c4659(0x1e1)][_0x3c4659(0x17b)]);switch(this[_0x3c4659(0x1e1)][_0x3c4659(0x17b)]){case _0x3c4659(0x18d):Events[_0x3c4659(0x1a6)]('peer-rtc-connected',this[_0x3c4659(0x1f1)]);break;case _0x3c4659(0x19b):this[_0x3c4659(0x15c)]();break;case _0x3c4659(0x197):this[_0x3c4659(0x1e1)]=null,this['_onChannelClosed']();break;}}[_0x2617c9(0x1d7)](){const _0x41771f=_0x2617c9;switch(this[_0x41771f(0x1e1)][_0x41771f(0x1aa)]){case _0x41771f(0x197):console['error']('ICE\x20Gathering\x20failed');break;default:console[_0x41771f(0x19d)](_0x41771f(0x195),this[_0x41771f(0x1e1)][_0x41771f(0x1aa)]);}}[_0x2617c9(0x1d0)](_0x2f2766){const _0x552a07=_0x2617c9;console[_0x552a07(0x1a3)](_0x2f2766);}[_0x2617c9(0x1a2)](_0x1e2ba0){const _0xa365a=_0x2617c9;if(!this['_channel'])return this[_0xa365a(0x187)]();this[_0xa365a(0x13b)][_0xa365a(0x16a)](_0x1e2ba0);}[_0x2617c9(0x178)](_0x5277e7){const _0x5d318d=_0x2617c9;_0x5277e7[_0x5d318d(0x1eb)]=_0x5d318d(0x156),_0x5277e7['to']=this[_0x5d318d(0x1f1)],this[_0x5d318d(0x1bb)]['send'](_0x5277e7);}[_0x2617c9(0x187)](){const _0x291005=_0x2617c9;if(this[_0x291005(0x1ba)]()||this[_0x291005(0x17c)]())return;this['_connect'](this[_0x291005(0x1f1)],this['_isCaller']);}[_0x2617c9(0x1ba)](){const _0x350456=_0x2617c9;return this[_0x350456(0x13b)]&&this[_0x350456(0x13b)][_0x350456(0x151)]==='open';}[_0x2617c9(0x17c)](){const _0xbce369=_0x2617c9;return this['_channel']&&this[_0xbce369(0x13b)][_0xbce369(0x151)]===_0xbce369(0x1b8);}}class PeersManager{constructor(_0x2cbd94){const _0x1f2ee1=_0x2617c9;this[_0x1f2ee1(0x1b0)]={},this[_0x1f2ee1(0x1bb)]=_0x2cbd94,Events['on']('signal',_0x2ed30d=>this['_onMessage'](_0x2ed30d[_0x1f2ee1(0x1a0)])),Events['on'](_0x1f2ee1(0x1b0),_0x78722e=>this[_0x1f2ee1(0x1ea)](_0x78722e[_0x1f2ee1(0x1a0)])),Events['on']('files-selected',_0x2f2616=>this['_onFilesSelected'](_0x2f2616['detail'])),Events['on'](_0x1f2ee1(0x162),_0x5447f1=>this[_0x1f2ee1(0x180)](_0x5447f1[_0x1f2ee1(0x1a0)])),Events['on']('peer-left',_0xdcd7fc=>this[_0x1f2ee1(0x13e)](_0xdcd7fc[_0x1f2ee1(0x1a0)]));}[_0x2617c9(0x1bc)](_0xe116d7){const _0x5143bc=_0x2617c9;!this[_0x5143bc(0x1b0)][_0xe116d7[_0x5143bc(0x176)]]&&(this[_0x5143bc(0x1b0)][_0xe116d7[_0x5143bc(0x176)]]=new RTCPeer(this['_server'])),this[_0x5143bc(0x1b0)][_0xe116d7[_0x5143bc(0x176)]][_0x5143bc(0x173)](_0xe116d7);}[_0x2617c9(0x1ea)](_0x361b9b){const _0x5b21c5=_0x2617c9;_0x361b9b[_0x5b21c5(0x146)](_0x12e5b2=>{const _0x24af34=_0x5b21c5;if(this[_0x24af34(0x1b0)][_0x12e5b2['id']]){this[_0x24af34(0x1b0)][_0x12e5b2['id']][_0x24af34(0x187)]();return;}window[_0x24af34(0x147)]&&_0x12e5b2[_0x24af34(0x14d)]?this[_0x24af34(0x1b0)][_0x12e5b2['id']]=new RTCPeer(this[_0x24af34(0x1bb)],_0x12e5b2['id']):this['peers'][_0x12e5b2['id']]=new WSPeer(this[_0x24af34(0x1bb)],_0x12e5b2['id']);});}['sendTo'](_0x2029d7,_0x23adfe){const _0x136852=_0x2617c9;this[_0x136852(0x1b0)][_0x2029d7]['send'](_0x23adfe);}[_0x2617c9(0x164)](_0xd728ee){const _0x2f633c=_0x2617c9;this[_0x2f633c(0x1b0)][_0xd728ee['to']][_0x2f633c(0x18c)](_0xd728ee[_0x2f633c(0x1f2)]);}[_0x2617c9(0x180)](_0x394f62){const _0x3aea57=_0x2617c9;this[_0x3aea57(0x1b0)][_0x394f62['to']][_0x3aea57(0x172)](_0x394f62[_0x3aea57(0x14a)]);}[_0x2617c9(0x13e)](_0x55df1a){const _0x4c3580=_0x2617c9,_0x1064cc=this[_0x4c3580(0x1b0)][_0x55df1a];delete this[_0x4c3580(0x1b0)][_0x55df1a];if(!_0x1064cc||!_0x1064cc[_0x4c3580(0x1dc)])return;_0x1064cc[_0x4c3580(0x1dc)]['close']();}}class WSPeer{[_0x2617c9(0x1a2)](_0x2000cf){const _0x55f01b=_0x2617c9;_0x2000cf['to']=this[_0x55f01b(0x1f1)],this[_0x55f01b(0x1bb)]['send'](_0x2000cf);}}class FileChunker{constructor(_0x12a255,_0x41e1d6,_0x3c3436){const _0x19d753=_0x2617c9;this[_0x19d753(0x1c3)]=0xfa00,this[_0x19d753(0x142)]=0xf4240,this[_0x19d753(0x1d5)]=0x0,this[_0x19d753(0x188)]=0x0,this[_0x19d753(0x18a)]=_0x12a255,this[_0x19d753(0x1e3)]=_0x41e1d6,this['_onPartitionEnd']=_0x3c3436,this['_reader']=new FileReader(),this[_0x19d753(0x1c6)][_0x19d753(0x1c4)]('load',_0x208c4b=>this[_0x19d753(0x186)](_0x208c4b[_0x19d753(0x143)][_0x19d753(0x18f)]));}[_0x2617c9(0x17e)](){const _0x35c029=_0x2617c9;this[_0x35c029(0x188)]=0x0,this[_0x35c029(0x175)]();}[_0x2617c9(0x175)](){const _0x119cd0=_0x2617c9,_0x2237f2=this[_0x119cd0(0x18a)][_0x119cd0(0x199)](this[_0x119cd0(0x1d5)],this[_0x119cd0(0x1d5)]+this[_0x119cd0(0x1c3)]);this[_0x119cd0(0x1c6)]['readAsArrayBuffer'](_0x2237f2);}[_0x2617c9(0x186)](_0x3fdb7d){const _0x2e4939=_0x2617c9;this[_0x2e4939(0x1d5)]+=_0x3fdb7d['byteLength'],this['_partitionSize']+=_0x3fdb7d['byteLength'],this[_0x2e4939(0x1e3)](_0x3fdb7d);if(this['isFileEnd']())return;if(this[_0x2e4939(0x191)]()){this[_0x2e4939(0x1f5)](this[_0x2e4939(0x1d5)]);return;}this[_0x2e4939(0x175)]();}['repeatPartition'](){const _0x2a67ec=_0x2617c9;this[_0x2a67ec(0x1d5)]-=this[_0x2a67ec(0x188)],this[_0x2a67ec(0x1b7)]();}[_0x2617c9(0x191)](){const _0xff8eed=_0x2617c9;return this[_0xff8eed(0x188)]>=this['_maxPartitionSize'];}[_0x2617c9(0x153)](){const _0x21fb35=_0x2617c9;return this[_0x21fb35(0x1d5)]>=this[_0x21fb35(0x18a)][_0x21fb35(0x184)];}get['progress'](){const _0x203caf=_0x2617c9;return this['_offset']/this['_file'][_0x203caf(0x184)];}}class FileDigester{constructor(_0x306338,_0x110e0f){const _0x2aca83=_0x2617c9;this['_buffer']=[],this[_0x2aca83(0x140)]=0x0,this[_0x2aca83(0x141)]=_0x306338['size'],this[_0x2aca83(0x16d)]=_0x306338[_0x2aca83(0x1cc)]||'application/octet-stream',this[_0x2aca83(0x1d2)]=_0x306338['name'],this[_0x2aca83(0x1e8)]=_0x110e0f;}[_0x2617c9(0x1a8)](_0x1bb046){const _0x53c57e=_0x2617c9;this['_buffer']['push'](_0x1bb046),this[_0x53c57e(0x140)]+=_0x1bb046[_0x53c57e(0x171)]||_0x1bb046['size'];const _0x39ce2d=this[_0x53c57e(0x1f4)][_0x53c57e(0x18b)];this[_0x53c57e(0x196)]=this['_bytesReceived']/this['_size'];if(isNaN(this[_0x53c57e(0x196)]))this['progress']=0x1;if(this[_0x53c57e(0x140)]<this['_size'])return;let _0x427e1c=new Blob(this['_buffer'],{'type':this['_mime']});this[_0x53c57e(0x1e8)]({'name':this['_name'],'mime':this[_0x53c57e(0x16d)],'size':this[_0x53c57e(0x141)],'blob':_0x427e1c});}}function _0x2869(_0xa71c1e,_0x4b6d0c){const _0x1ca0e5=_0x1ca0();return _0x2869=function(_0x2869d3,_0x34645a){_0x2869d3=_0x2869d3-0x13b;let _0x279e1f=_0x1ca0e5[_0x2869d3];return _0x279e1f;},_0x2869(_0xa71c1e,_0x4b6d0c);}class Events{static[_0x2617c9(0x1a6)](_0x22d9c7,_0x38eec8){const _0x2904a5=_0x2617c9;window[_0x2904a5(0x18e)](new CustomEvent(_0x22d9c7,{'detail':_0x38eec8}));}static['on'](_0x347d81,_0x54f542){const _0x28193e=_0x2617c9;return window[_0x28193e(0x1c4)](_0x347d81,_0x54f542,![]);}static[_0x2617c9(0x1c1)](_0x24b045,_0x5bdfc1){const _0x40912c=_0x2617c9;return window[_0x40912c(0x15d)](_0x24b045,_0x5bdfc1,![]);}}RTCPeer[_0x2617c9(0x1ad)]={'sdpSemantics':'unified-plan','iceServers':[{'urls':_0x2617c9(0x170)}]};